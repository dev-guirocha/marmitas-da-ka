<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minha Conta - Marmitas da Ka</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="dashboard-style.css">
</head>

<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loader"></div>
    </div>

    <header>
        <nav class="navbar">
            <a href="#welcome" class="logo">Marmitas da <span class="logo-ka">Ka</span></a>
            <div class="nav-links" id="navLinks">
                <a href="#pacotes">Pacotes</a>
                <a href="#cardapio">Cardápio</a>
                <a href="meus-pedidos.html">Meus Pedidos</a>
                <a href="../../index.html" class="mobile-only">Voltar para Home</a>
            </div>
            <div class="nav-actions">
                <div class="user-info">
                    <span id="user-info-name">Olá, Guirocha</span>
                    <button id="logoutBtn" class="btn-logout" title="Sair da conta">Sair</button>
                </div>
                <a href="../../admin/admin.html" class="btn btn-secondary hidden admin-panel-link" id="adminLink">
                    <i class="fas fa-screwdriver-wrench"></i> Administração
                </a>
            </div>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main>
        <section id="welcome" class="section-container">
            <div class="hero-box">
                <h1>Sua jornada saudável continua aqui</h1>
                <p>Escolha um pacote ou monte seu cardápio com nossos pratos frescos e deliciosos.</p>
                <div class="hero-buttons">
                    <a href="#pacotes" class="btn btn-primary">Ver Pacotes</a>
                    <a href="#cardapio" class="btn btn-secondary">Ver Cardápio</a>
                </div>
            </div>
        </section>

        <section id="pacotes" class="section-container">
            <h2>Nossos Pacotes</h2>
            <p class="section-subtitle">Escolha um combo para começar e depois selecione suas marmitas favoritas no
                cardápio abaixo.</p>
            <div class="pacotes-grid">
                <div class="pacotes-grid">
                    <div class="pacote-card">
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato8.webp" />
                            <img src="../../assets/prato8.jpeg" width="600" height="596" loading="lazy" decoding="async"
                                alt="Pacote com cinco refeições fit e balanceadas">
                        </picture>
                        <h3>Combo Praticidade</h3>
                        <h4>5 marmitas</h4>
                        <p>Ideal para garantir seus almoços saudáveis durante a semana.</p>
                        <span class="price">R$ 110,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="110.00"
                            data-name="Combo Praticidade" data-credits="5" data-package-key="praticidade">Quero
                            Esse</button>
                    </div>
                    <div class="pacote-card popular">
                        <span class="tag">Mais Popular</span>
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato9.webp" />
                            <img src="../../assets/prato9.jpeg" width="600" height="608" loading="lazy" decoding="async"
                                alt="Pacote com dez refeições equilibradas e saudáveis">
                        </picture>
                        <h3>Combo Constância</h3>
                        <h4>10 marmitas</h4>
                        <p>Economia e praticidade para duas semanas de alimentação equilibrada.</p>
                        <span class="price">R$ 214,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="214.00"
                            data-name="Combo Constância" data-credits="10" data-package-key="constancia">Quero
                            Esse</button>
                    </div>
                    <div class="pacote-card">
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato7.webp" />
                            <img src="../../assets/prato7.jpeg" width="600" height="677" loading="lazy" decoding="async"
                                alt="Pacote com quinze refeições para manter o foco">
                        </picture>
                        <h3>Combo Foco</h3>
                        <h4>15 marmitas</h4>
                        <p>Um ritmo consistente para manter o planejamento alimentar no mês.</p>
                        <span class="price">R$ 315,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="315.00"
                            data-name="Combo Foco" data-credits="15" data-package-key="foco">Quero Esse</button>
                    </div>
                    <div class="pacote-card">
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato8.webp" />
                            <img src="../../assets/prato8.jpeg" width="600" height="596" loading="lazy" decoding="async"
                                alt="Pacote com vinte refeições funcionais e nutritivas">
                        </picture>
                        <h3>Combo Equilíbrio</h3>
                        <h4>20 marmitas</h4>
                        <p>A solução completa para um mês inteiro sem se preocupar com as refeições.</p>
                        <span class="price">R$ 419,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="419.00"
                            data-name="Combo Equilíbrio" data-credits="20" data-package-key="equilibrio">Quero Esse</button>
                    </div>
                    <div class="pacote-card">
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato9.webp" />
                            <img src="../../assets/prato9.jpeg" width="600" height="608" loading="lazy" decoding="async"
                                alt="Pacote com trinta refeições para alta constância alimentar">
                        </picture>
                        <h3>Combo Performance</h3>
                        <h4>30 marmitas</h4>
                        <p>Para quem quer alta constância e praticidade no dia a dia.</p>
                        <span class="price">R$ 599,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="599.00"
                            data-name="Combo Performance" data-credits="30" data-package-key="performance">Quero Esse</button>
                    </div>
                    <div class="pacote-card">
                        <picture>
                            <source type="image/webp" srcset="../../assets/prato7.webp" />
                            <img src="../../assets/prato7.jpeg" width="600" height="677" loading="lazy" decoding="async"
                                alt="Pacote com quarenta refeições para foco total em resultado">
                        </picture>
                        <h3>Combo Resultado</h3>
                        <h4>40 marmitas</h4>
                        <p>Máxima cobertura para foco total em resultado e organização.</p>
                        <span class="price">R$ 759,00</span>
                        <button type="button" class="btn btn-primary add-package-to-cart" data-price="759.00"
                            data-name="Combo Resultado" data-credits="40" data-package-key="resultado">Quero Esse</button>
                    </div>
                    <div class="pacote-card personalizado">
                        <i class="fas fa-pencil-alt fa-3x"></i>
                        <h3>Pacote Personalizado</h3>
                        <h4>Você no comando</h4>
                        <p>Escolha quantas marmitas vão cuidar de você durante o mês.</p>
                        <a href="https://wa.me/5579991428025?text=Tenho%20interesse%20em%20um%20pacote%20personalizado,%20poderia%20me%20ajudar?"
                            class="btn btn-primary" target="_blank" rel="noopener noreferrer">
                            Falar no WhatsApp
                        </a>
                    </div>
                </div>
            </div>

            <div class="cart-status" id="cartStatus">
                <div class="status-content">
                    <i class="fas fa-info-circle"></i>
                    <span>Selecione um pacote para começar a adicionar marmitas</span>
                </div>
            </div>
        </section>

        <section id="cardapio" class="section-container">
            <h2>Nosso Cardápio</h2>
            <p class="section-subtitle">Clique em "Adicionar" para escolher a quantidade de cada prato.</p>

            <div class="credits-info" id="creditsInfo">
                <i class="fas fa-coins"></i>
                <span id="credits-count">0</span> créditos disponíveis
            </div>

            <div class="cardapio-wrapper">
                <button class="slider-arrow prev" aria-label="Prato anterior">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="menu-slider">
                    <div class="menu-item"
                        data-name="Bolonhesa de carne, arroz à grega e vinagrete de feijão fradinho">
                        <img src="../../assets/macarrao.jpg"
                            alt="Bolonhesa de carne, arroz à grega e vinagrete de feijão fradinho">
                        <h3>Bolonhesa de Carne, Arroz à Grega e Vinagrete de Feijão Fradinho</h3>
                        <p class="item-description">Bolonhesa de carne com molho caseiro, arroz à grega soltinho e
                            vinagrete de feijão fradinho para um toque fresco.</p>
                        <div class="item-footer">
                            <div class="quantity-selector">
                                <button class="btn-qty minus" aria-label="Remover um">-</button>
                                <span class="quantity">0</span>
                                <button class="btn-qty plus" aria-label="Adicionar um">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item" data-name="Rocambole de carne, purê de macaxeira e brócolis">
                        <img src="../../assets/estrogonofe%20de%20frango.jpg"
                            alt="Rocambole de carne, purê de macaxeira e brócolis">
                        <h3>Rocambole de Carne, Purê de Macaxeira e Brócolis</h3>
                        <p class="item-description">Rocambole de carne assado, purê de macaxeira cremoso e brócolis no
                            ponto para completar a refeição.</p>
                        <div class="item-footer">
                            <div class="quantity-selector">
                                <button class="btn-qty minus" aria-label="Remover um">-</button>
                                <span class="quantity">0</span>
                                <button class="btn-qty plus" aria-label="Adicionar um">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item" data-name="Pernil suíno desfiado, arroz integral e mix de legumes">
                        <img src="../../assets/Lasanha%20de%20beringela.jpg"
                            alt="Pernil suíno desfiado, arroz integral e mix de legumes">
                        <h3>Pernil Suíno Desfiado, Arroz Integral e Mix de Legumes</h3>
                        <p class="item-description">Pernil suíno desfiado e bem temperado, arroz integral soltinho e
                            mix de legumes salteados.</p>
                        <div class="item-footer">
                            <div class="quantity-selector">
                                <button class="btn-qty minus" aria-label="Remover um">-</button>
                                <span class="quantity">0</span>
                                <button class="btn-qty plus" aria-label="Adicionar um">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item" data-name="Escondidinho de macaxeira com frango">
                        <img src="../../assets/suino.jpg" alt="Escondidinho de macaxeira com frango">
                        <h3>Escondidinho de Macaxeira com Frango</h3>
                        <p class="item-description">Camadas de macaxeira cremosa com frango desfiado e temperos suaves,
                            gratinado no forno.</p>
                        <div class="item-footer">
                            <div class="quantity-selector">
                                <button class="btn-qty minus" aria-label="Remover um">-</button>
                                <span class="quantity">0</span>
                                <button class="btn-qty plus" aria-label="Adicionar um">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="menu-item" data-name="Macarrão com frango, legumes e creme de ricota">
                        <img src="../../assets/hamburguer.jpg"
                            alt="Macarrão com frango, legumes e creme de ricota">
                        <h3>Macarrão com Frango, Legumes e Creme de Ricota</h3>
                        <p class="item-description">Macarrão com frango desfiado, legumes coloridos e creme de ricota
                            leve para uma refeição equilibrada.</p>
                        <div class="item-footer">
                            <div class="quantity-selector">
                                <button class="btn-qty minus" aria-label="Remover um">-</button>
                                <span class="quantity">0</span>
                                <button class="btn-qty plus" aria-label="Adicionar um">+</button>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="slider-arrow next" aria-label="Próximo prato">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="navigation-dots">
                <span class="dot active" data-index="0"></span>
                <span class="dot" data-index="1"></span>
                <span class="dot" data-index="2"></span>
                <span class="dot" data-index="3"></span>
            </div>
        </section>

        <section id="order-summary" class="section-container hidden">
            <h2>Resumo do Pedido</h2>
            <div class="order-summary-content">
                <div id="order-items"></div>
                <div class="order-total">
                    <strong>Total: <span id="order-total-price">R$ 0,00</span></strong>
                </div>
                <a href="../../checkout/finalizar-pedido.html" class="btn btn-primary btn-large">Finalizar Pedido</a>
            </div>
        </section>
    </main>

    <div class="floating-cart" id="floatingCart">
        <div class="cart-icon">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-badge" id="floatingCartCount">0</span>
        </div>
        <div class="cart-preview hidden">
            <h4>Seu Carrinho</h4>
            <div id="cart-preview-items"></div>
            <div class="cart-preview-total">
                Total: <span id="cart-preview-total">R$ 0,00</span>
            </div>
            <button type="button" id="clearCartBtn" class="btn-link">Esvaziar carrinho</button>
            <a href="../../checkout/finalizar-pedido.html" class="btn btn-primary btn-small">Finalizar Compra</a>
        </div>
    </div>

    <footer>
        <p>Criado com <i class="fas fa-heart"></i> por <a href="#" target="_blank">Dev.Guirocha</a></p>
        <p>&copy; 2025 Marmitas da Ka. Todos os direitos reservados.</p>
    </footer>

    <div id="clearCartModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Esvaziar Carrinho</h2>
            <p>O que deseja limpar?</p>
            <div class="modal-options">
                <button data-mode="1" class="btn btn-secondary">Apenas Itens</button>
                <button data-mode="2" class="btn btn-secondary">Apenas o Pacote</button>
                <button data-mode="3" class="btn btn-primary">Limpar Tudo</button>
            </div>
            <button id="closeModalBtn" class="modal-close-btn">&times;</button>
        </div>
    </div>

    <div id="upgradeModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>Sugestão de Combo</h2>
            <p id="upgradeMessage" class="upgrade-message"></p>
            <div class="modal-options">
                <button id="upgradeAcceptBtn" class="btn btn-primary">Quero atualizar</button>
                <button id="upgradeDeclineBtn" class="btn btn-secondary">Manter combo atual</button>
            </div>
            <button id="upgradeCloseBtn" class="modal-close-btn">&times;</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script src="../../firebase-config.js"></script>

    <script src="dashboard-script.js"></script>
</body>

</html>
